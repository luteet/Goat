const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");function hover(e,t){body.addEventListener("mouseover",(function(t){e((function(e){return t.target.closest(e)}))})),body.addEventListener("mouseout",(function(e){t((function(t){return e.target.closest(t)}),(function(t){return e.relatedTarget.closest(t)}))}))}body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_active")});const r=t(".clients__slide--body"),n=document.querySelector(".clients__slide--body._active");if(r){const e=document.querySelector(".clients__slide--body._active");e&&!r.classList.contains("_active")&&e.classList.remove("_active"),r.classList.toggle("_active")}else n&&n.classList.remove("_active")}));const videoOnHover=document.querySelectorAll(".video-on-hover");function wordsToLines(){document.querySelectorAll(".words-to-lines").forEach(e=>{const t=e;let r,n,s=t.innerHTML.trim().split(" "),a=!1;t.innerHTML="",Array.from(s).forEach((e,t)=>{a?a&&"mark"==typeTag&&(s[t]=`<span><mark>${e}&nbsp;</mark></span>`):s[t]=`<span>${e}&nbsp;</span>`,e.includes("<mark>")&&e.includes("</mark>")?(e=(e=e.replace("<mark>","")).replace("</mark>",""),a=!0,typeTag="mark",s[t]=`<span><mark>${e}&nbsp;</mark></span>`):e.includes("<mark>")?(e=e.replace("<mark>",""),a=!0,typeTag="mark",s[t]=`<span><mark>${e}&nbsp;</mark></span>`):e.includes("</mark>")&&(a=!1,e=e.replace("</mark>",""),s[t]=`<span><mark>${e}&nbsp;</mark></span>`),e.includes("<img")?(n=e,r=!0,delete s[t]):e.includes(">")||e.includes("mark>")||!r?r&&(n+=e,s[t]=`<span>${n}</span>`,r=!1):(n+=` ${e} `,delete s[t])}),Array.from(s).forEach((e,r)=>{e&&t.insertAdjacentHTML("beforeend",s[r])}),s=[];let o=t.querySelectorAll("span"),i=0;o.forEach((e,t)=>{o[t-1]?(o[t-1].offsetTop==e.offsetTop||i++,s.push([e,i])):s.push([e,i])}),t.innerHTML="";let l=[],c=0;Array.from(s).forEach((e,t)=>{s[t-1]?s[t-1][1]==e[1]?(l[c]||(l[c]=[]),l[c].push(e[0])):(c++,l[c]||(l[c]=[]),l[c].push(e[0])):(l[c]=[],l[c].push(e[0]))}),setTimeout(()=>{Array.from(l).forEach(e=>{let r=document.createElement("span"),n=document.createElement("span");r.classList.add("words-line"),n.classList.add("words-line-element");for(let t=0;t<e.length;t++)n.append(e[t]);r.append(n),t.append(r)}),e.classList.add("_init")},0)})}videoOnHover.forEach(e=>{let t=!1;e.addEventListener("mouseenter",(function(){const t=e.querySelector(".video-wrapper").querySelector(".video-element");e.classList.add("_hover"),t.play()})),e.addEventListener("mouseleave",(function(){e.classList.remove("_hover"),t=!0;const r=e.querySelector(".video-wrapper").querySelector(".video-element");r.currentTime=0,r.pause()}))});let windowSize,resizeCheck={};function resizeCheckFunc(e,t,r){windowSize<=e&&(1==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&0!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!1,r()),windowSize>=e&&(0==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&1!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!0,t())}function resize(){windowSize=window.innerWidth,html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px")}resize(),window.onresize=resize;const underlineText=document.querySelectorAll(".underline-text");underlineText.forEach(e=>{const t=document.createElement("span");t.classList.add("underline-text-element");const r=e.querySelector("span").cloneNode(!0);r.classList.add("underline-text-span"),t.append(r),e.insertAdjacentElement("afterbegin",t)});const mouse=document.querySelectorAll(".mouse"),openCursor=document.querySelector(".mouse._open-mode"),drag=document.querySelector(".mouse._cursor-drag");var prevEvent,currentEvent;mouse.forEach(e=>{e.style.setProperty("--size",e.offsetWidth+"px")});const customCursorOpen=document.querySelectorAll(".custom-cursor-open");customCursorOpen.forEach(e=>{e.addEventListener("mouseenter",(function(){e.querySelector(".mouse").classList.add("_visible")})),e.addEventListener("mouseleave",(function(){e.querySelector(".mouse").classList.remove("_visible")}))});const cursorDrag=document.querySelectorAll(".cursor-drag");function moveMouse(e){currentEvent=e,window.innerWidth>=1e3&&(customCursorOpen.forEach(t=>{t.style.setProperty("--mouse-x",e.clientX-t.getBoundingClientRect().x+"px"),t.style.setProperty("--mouse-y",e.clientY-t.getBoundingClientRect().y+"px")}),cursorDrag.forEach(t=>{t.style.setProperty("--mouse-x",e.clientX-t.getBoundingClientRect().x+"px"),t.style.setProperty("--mouse-y",e.clientY-t.getBoundingClientRect().y+"px")}))}cursorDrag.forEach(e=>{e.addEventListener("mouseenter",(function(){drag.classList.add("_visible")})),e.addEventListener("mouseleave",(function(){drag.classList.remove("_visible")}))}),document.addEventListener("pointermove",moveMouse),document.addEventListener("pointerdown",(function(){mouse.forEach(e=>{e.classList.add("_down")})})),document.addEventListener("pointerup",(function(){mouse.forEach(e=>{e.classList.remove("_down")})}));var maxSpeed=0,prevSpeed=0,maxPositiveAcc=0,maxNegativeAcc=0;setInterval((function(){if(prevEvent&&currentEvent)var e=Math.abs(currentEvent.screenX-prevEvent.screenX),t=Math.abs(currentEvent.screenY-prevEvent.screenY),r=Math.sqrt(e*e+t*t)/2;prevEvent=currentEvent,prevSpeed=r,html.style.setProperty("--speed",r+"px")}),100);const videoElements=document.querySelectorAll(".video-auto-element");videoElements.forEach(e=>{e.addEventListener("play",(function(){e.closest(".video-auto-wrapper").querySelector(".video-auto-poster").classList.add("_hidden")}))});let projectsSlider=new Swiper(".projects__slider",{spaceBetween:24,slidesPerView:"auto"}),sliderSpeed=1500,autoplayDelay=4e3,passionImageSlider=new Swiper(".passion__image-slider",{spaceBetween:0,slidesPerView:1,effect:"fade",loop:!0,speed:sliderSpeed,autoplay:{delay:autoplayDelay}});const passionTimer=document.querySelectorAll(".passion__timer");let passionContentSlider=new Swiper(".passion__content-slider",{spaceBetween:0,slidesPerView:1,effect:"fade",loop:!0,speed:sliderSpeed,autoplay:{delay:autoplayDelay},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:passionImageSlider},on:{init:function(){html.style.setProperty("--slider-speed",autoplayDelay/1e3+"s");const e=document.querySelector(".passion__content-slider").querySelector(".swiper-slide-active").querySelector(".passion__timer");e.classList.add("_slide-change"),e.value=100},slideChangeTransitionEnd:function(){const e=document.querySelector(".passion__timer._slide-change");if(e){e.classList.remove("_slide-change"),e.value=0;const t=passionContentSlider.wrapperEl.querySelector(".swiper-slide-active").querySelector(".passion__timer");t.classList.add("_slide-change"),t.value=100}else{const e=passionContentSlider.wrapperEl.querySelector(".swiper-slide-active").querySelector(".passion__timer");e.classList.add("_slide-change"),e.value=100}}}}),clientsSlider=new Swiper(".clients__slider",{spaceBetween:24,slidesPerView:"auto"}),latesUpdatesSlider=new Swiper(".lates-updates__slider",{spaceBetween:24,slidesPerView:"auto"});const preloader=document.querySelector(".preloader");body.classList.add("_active"),preloader.classList.add("_active");const scrollCheck=document.createElement("div");scrollCheck.classList.add("scroll-check"),scrollCheck.setAttribute("aria-hidden",!0),body.append(scrollCheck),window.onload=function(){wordsToLines(),setTimeout(()=>{preloader.classList.remove("_active"),setTimeout(()=>{body.classList.remove("_active");var e=0;gsap.timeline();const t=document.querySelectorAll(".anim-section");let r=[];function n(){Array.from(r).forEach((e,t)=>{const r=e[0],n=Number(e[0].dataset.offset)?Number(e[0].dataset.offset):0;elementCoords=r.getBoundingClientRect(),window.innerHeight/1.5-n>elementCoords.top&&!r.classList.contains("_animated")&&(r.classList.add("_animated"),e[1].play())})}function s(e){a.forEach(t=>{if("to-bottom"==t.dataset.pos)document.querySelector(t.dataset.anchor).offsetTop>e-window.innerHeight&&(t.style.transform=`translate3d(0,${e/7}px,0)`);else if(document.querySelector(t.dataset.anchor).offsetTop>e-window.innerHeight/2){let r=(document.querySelector(t.dataset.anchor).offsetTop-e)/30;r>=25?r=25:r<=-25&&(r=-25),t.style.transform=`translate3d(0,${r}px,0)`}})}t.forEach(e=>{const t=e.querySelectorAll(".anim-element");let n=[];var s;t.forEach(e=>{const t=Number(e.dataset.index),r=Number(e.dataset.mobIndex)?Number(e.dataset.mobIndex):t;n.push({element:e,index:t,mobIndex:r})}),s=n,n=windowSize<980?s.sort((e,t)=>e.mobIndex>t.mobIndex?1:-1):s.sort((e,t)=>e.index>t.index?1:-1);let a=new TimelineMax;a.pause(),Array.from(n).forEach((e,t)=>{const r=Number(e.element.dataset.duration)?Number(e.element.dataset.duration):.5,n=Number(e.element.dataset.delay)?Number(e.element.dataset.delay):0,s=Number(e.element.dataset.stagger)?Number(e.element.dataset.stagger):.05,o="true"==e.element.dataset.childrensReverse;e.element.classList.contains("anim-text")?a.to(e.element,{duration:r,delay:n,onStart:function(){let t=[];e.element.querySelectorAll(".words-line > .words-line-element").forEach(e=>{t.push(e)}),gsap.to(t,{transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(0,100%,0)"},ease:"power4.out",duration:r,stagger:s})}},0!=t&&"-=1"):e.element.classList.contains("anim-fade-in")?a.to(e.element,{opacity:1,duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-fade-up")?a.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(0,25px,0)"},duration:r,delay:n,onStart:function(){e.element.classList.add("_animated")}},0!=t&&"-=1"):e.element.classList.contains("anim-fade-right")?a.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(-20px,0,0)"},duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-fade-left")?a.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(20px,0,0)"},duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-zoom-out")?a.to(e.element,{opacity:1,transform:"scale3d(1,1,1)",startAt:{transform:"scale3d(1.1,1.1,1)",opacity:0},duration:r,ease:"power2.out",delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-childrens-fade-right")?a.to(e.element,{opacity:1,duration:r,delay:n,onStart:function(){let t=Array.from(e.element.children);o&&(t=t.reverse()),gsap.to(t,{transform:"translate3d(0,0,0)",opacity:1,startAt:{transform:"translate3d(-20px,0,0)",opacity:0},duration:r,stagger:s})}},0!=t&&"-=1"):e.element.classList.contains("anim-fade-progress-right")?a.to(e.element,{opacity:1,maskImage:"linear-gradient(90deg, rgba(72,172,240,1) 100%, transparent 105%)",startAt:{maskImage:"linear-gradient(90deg, rgba(72,172,240,1) -5%, transparent 0%)"},duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-childrens-fade-left")?a.to(e.element,{opacity:1,duration:r,delay:n,onStart:function(){let t=Array.from(e.element.children);o&&(t=t.reverse()),gsap.to(t,{transform:"translate3d(0,0,0)",opacity:1,startAt:{transform:"translate3d(20px,0,0)",opacity:0},duration:r,stagger:s})}},0!=t&&"-=1"):e.element.classList.contains("anim-zoom-in")?a.to(e.element,{opacity:1,transform:"scale3d(1,1,1)",startAt:{transform:"scale3d(0.7,0.7,1)"},duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-clip-down")&&a.to(e.element,{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",startAt:{clipPath:"polygon(0 0, 100% 0, 100% 0%, 0 0%)",opacity:1},ease:"power2.out",duration:r,delay:n},0!=t&&"-=1")}),e.style.opacity=1,r.push([e,a])}),document.addEventListener("scroll",(function(e){n(),s(Math.abs(scrollCheck.getBoundingClientRect().y))}));const a=document.querySelectorAll(".anim-parallax-element");var o;n(),o=document.getElementById("main-scrollbar"),bodyScrollBar=Scrollbar.init(o,{damping:.05,delegateTo:document}),bodyScrollBar.addListener(({offset:t})=>{windowSize>=1e3?(t.x,e=t.y,body.classList.contains("_active")&&bodyScrollBar.setPosition(0,0,0),s(e)):bodyScrollBar.destroy(),n()}),bodyScrollBar.setPosition(0,0),bodyScrollBar.limit.y=0,bodyScrollBar.track.xAxis.element.remove(),bodyScrollBar.update(),gsap.to(header,{transform:"translate3d(0,0,0)",delay:.5})},0),setTimeout(()=>{preloader.classList.add("_loaded")},400)},500)};