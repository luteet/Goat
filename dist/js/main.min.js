const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header");body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_active")});const r=t(".clients__slide--body"),n=document.querySelector(".clients__slide--body._active");if(r){const e=document.querySelector(".clients__slide--body._active");e&&!r.classList.contains("_active")&&(e.classList.remove("_active"),gsap.to(e.querySelectorAll(".word-span"),{transform:"translate3d(0,50%,0)",opacity:0,ease:"power4.out",duration:.3,stagger:0})),r.classList.contains("_active")?(e.classList.remove("_active"),gsap.to(r.querySelectorAll(".word-span"),{transform:"translate3d(0,50%,0)",opacity:0,ease:"power4.out",duration:.3,stagger:0})):(r.classList.add("_active"),gsap.to(r.querySelectorAll(".word-span"),{transform:"translate3d(0,0,0)",opacity:1,ease:"power4.out",duration:.3,stagger:.015}))}else n&&(n.classList.remove("_active"),gsap.to(n.querySelectorAll(".word-span"),{transform:"translate3d(0,50%,0)",opacity:0,ease:"power4.out",duration:.3,stagger:0}))}));const videoOnHover=document.querySelectorAll(".video-on-hover");function wordsToSpan(){document.querySelectorAll(".words-to-span").forEach(e=>{const t=e;let r=t.textContent.trim().split(" ").map((function(e){return`<span class="word-span">${e}&nbsp;</span>`}));t.innerHTML="",Array.from(r).forEach((e,n)=>{e&&t.insertAdjacentHTML("beforeend",r[n])})})}function wordsToLines(){const e=document.querySelectorAll(".words-to-lines");let t=[];function r(e){let r=e;Array.from(t).forEach(e=>{const t=e[1],n=e[0];r&&n.classList.contains("_animated")&&n.classList.add("_resized"),n.classList.remove("_init");let o,a,s=t.trim().split(" "),l=!1;n.innerHTML="",Array.from(s).forEach((e,t)=>{l?l&&"mark"==typeTag&&(s[t]=`<span><mark>${e}&nbsp;</mark></span>`):s[t]=`<span>${e}&nbsp;</span>`,e.includes("<mark>")&&e.includes("</mark>")?(e=(e=e.replace("<mark>","")).replace("</mark>",""),l=!0,typeTag="mark",s[t]=`<span><mark>${e}&nbsp;</mark></span>`):e.includes("<mark>")?(e=e.replace("<mark>",""),l=!0,typeTag="mark",s[t]=`<span><mark>${e}&nbsp;</mark></span>`):e.includes("</mark>")&&(l=!1,e=e.replace("</mark>",""),s[t]=`<span><mark>${e}&nbsp;</mark></span>`),e.includes("<img")?(a=e,o=!0,delete s[t]):e.includes(">")||e.includes("mark>")||!o?o&&(a+=e,s[t]=`<span>${a}</span>`,o=!1):(a+=` ${e} `,delete s[t])}),Array.from(s).forEach((e,t)=>{e&&n.insertAdjacentHTML("beforeend",s[t])}),s=[];let i=n.querySelectorAll("span"),d=0;i.forEach((e,t)=>{i[t-1]?(i[t-1].offsetTop==e.offsetTop||d++,s.push([e,d])):s.push([e,d])}),n.innerHTML="";let c=[],u=0;Array.from(s).forEach((e,t)=>{s[t-1]?s[t-1][1]==e[1]?(c[u]||(c[u]=[]),c[u].push(e[0])):(u++,c[u]||(c[u]=[]),c[u].push(e[0])):(c[u]=[],c[u].push(e[0]))}),Array.from(c).forEach(e=>{let t=document.createElement("span"),r=document.createElement("span"),o=document.createElement("span");t.classList.add("words-line"),r.classList.add("words-decor-line"),o.classList.add("words-line-element");for(let t=0;t<e.length;t++)o.append(e[t]);t.append(o),t.append(r);const a=document.createElement("span");a.style.position="absolute",a.style.display="inline-block",a.style.pointerEvents="none",a.innerHTML="&nbsp;",n.append(t),n.append(a),n.style.setProperty("--space-width",a.offsetWidth+"px"),a.remove()}),n.classList.add("_init")})}e.forEach(e=>{t.push([e,e.innerHTML])}),r(),window.addEventListener("resize",(function(){r(!0)}))}videoOnHover.forEach(e=>{let t=!1;e.addEventListener("mouseenter",(function(){const t=e.querySelector(".video-wrapper").querySelector(".video-element");e.classList.add("_hover"),t.classList.contains("video-lazy-loading")?t.classList.contains("_loaded")&&t.play():t.play()})),e.addEventListener("mouseleave",(function(){e.classList.remove("_hover"),t=!0;const r=e.querySelector(".video-wrapper").querySelector(".video-element");r.classList.contains("video-lazy-loading")?r.classList.contains("_loaded")&&(r.currentTime=0,r.pause()):(r.currentTime=0,r.pause())}))}),wordsToSpan();const mouse=document.querySelectorAll(".mouse"),openCursor=document.querySelector(".mouse._open-mode"),drag=document.querySelector(".mouse._cursor-drag");var prevEvent,currentEvent;mouse.forEach(e=>{e.style.setProperty("--size",e.offsetWidth+"px")});const customCursorOpen=document.querySelectorAll(".custom-cursor-open");customCursorOpen.forEach(e=>{e.addEventListener("mouseenter",(function(){e.querySelector(".mouse").classList.add("_visible")})),e.addEventListener("mouseleave",(function(){e.querySelector(".mouse").classList.remove("_visible")}))});const cursorDrag=document.querySelectorAll(".cursor-drag");function moveMouse(e){currentEvent=e,window.innerWidth>=1e3&&(customCursorOpen.forEach(t=>{t.style.setProperty("--mouse-x",e.clientX-t.getBoundingClientRect().x+"px"),t.style.setProperty("--mouse-y",e.clientY-t.getBoundingClientRect().y+"px")}),cursorDrag.forEach(t=>{t.style.setProperty("--mouse-x",e.clientX-t.getBoundingClientRect().x+"px"),t.style.setProperty("--mouse-y",e.clientY-t.getBoundingClientRect().y+"px")}))}cursorDrag.forEach(e=>{e.addEventListener("mouseenter",(function(){drag.classList.add("_visible")})),e.addEventListener("mouseleave",(function(){drag.classList.remove("_visible")}))}),document.addEventListener("pointermove",moveMouse),document.addEventListener("pointerdown",(function(){mouse.forEach(e=>{e.classList.add("_down")})})),document.addEventListener("pointerup",(function(){mouse.forEach(e=>{e.classList.remove("_down")})}));var maxSpeed=0,prevSpeed=0,maxPositiveAcc=0,maxNegativeAcc=0;setInterval((function(){if(prevEvent&&currentEvent)var e=Math.abs(currentEvent.screenX-prevEvent.screenX),t=Math.abs(currentEvent.screenY-prevEvent.screenY),r=Math.sqrt(e*e+t*t)/2;prevEvent=currentEvent,prevSpeed=r,html.style.setProperty("--speed",r+"px")}),100);const videoElements=document.querySelectorAll(".video-auto-element");videoElements.forEach(e=>{e.addEventListener("play",(function(){e.closest(".video-auto-wrapper").querySelector(".video-auto-poster").classList.add("_hidden")}))});const preloader=document.querySelector(".preloader"),preloaderElement=preloader.querySelector(".preloader__element"),videoLazyLoading=document.querySelectorAll(".video-lazy-loading");html.style.setProperty("--height-screen-start",window.innerHeight+"px"),html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px"),document.addEventListener("DOMContentLoaded",(function(){preloaderElement.src=preloaderElement.dataset.src,preloaderElement.load(),preloaderElement.onloadeddata=function(){preloaderElement.play(),preloader.classList.add("_active"),setTimeout(()=>{preloader.classList.remove("_active"),wordsToLines();let e=window.innerWidth;const t=document.createElement("div");t.classList.add("scroll-check"),t.setAttribute("aria-hidden",!0),body.append(t);let r=0,n=0,o=document.getElementById("main-scrollbar");gsap.timeline();const a=document.querySelectorAll(".anim-section");let s=[];function l(){html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px"),Array.from(s).forEach((e,t)=>{const r=e[0],n=Number(e[0].dataset.offset)?Number(e[0].dataset.offset):0;elementCoords=r.getBoundingClientRect(),window.innerHeight/1.5-n>elementCoords.top&&!r.classList.contains("_animated")&&(r.classList.add("_animated"),e[1].play())})}function i(e){d.forEach(t=>{if("to-bottom"==t.dataset.pos)document.querySelector(t.dataset.anchor).offsetTop>e-window.innerHeight&&(t.style.transform=`translate3d(0,${e/7}px,0)`);else{const r=document.querySelector(t.dataset.anchor);if(r.offsetTop>e-window.innerHeight){let n=(r.offsetTop-e)/7;n>=t.offsetHeight?n=t.offsetHeight:n<=-t.offsetHeight&&(n=-t.offsetHeight),t.style.setProperty("--y",n+"px")}}})}a.forEach(t=>{const r=t.querySelectorAll(".anim-element");let n=[];var o;r.forEach(e=>{const t=Number(e.dataset.index),r=Number(e.dataset.mobIndex)?Number(e.dataset.mobIndex):t;n.push({element:e,index:t,mobIndex:r})}),o=n,n=e<980?o.sort((e,t)=>e.mobIndex>t.mobIndex?1:-1):o.sort((e,t)=>e.index>t.index?1:-1);let a=new TimelineMax;a.pause(),Array.from(n).forEach((e,t)=>{const r=Number(e.element.dataset.duration)?Number(e.element.dataset.duration):.5,n=Number(e.element.dataset.delay)?Number(e.element.dataset.delay):0,o=Number(e.element.dataset.stagger)?Number(e.element.dataset.stagger):.05,s="true"==e.element.dataset.childrensReverse;e.element.classList.contains("anim-text")?a.to(e.element,{duration:r,delay:n,onStart:function(){let t=[];e.element.querySelectorAll(".words-line > .words-line-element").forEach(e=>{t.push(e)}),gsap.to(t,{transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(0,100%,0)"},ease:"power4.out",duration:r,stagger:o,onComplete:function(){e.element.classList.add("_animated")}})}},0!=t&&"-=1"):e.element.classList.contains("anim-fade-in")?a.to(e.element,{opacity:1,duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-fade-up")?a.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(0,25px,0)"},duration:r,delay:n,onStart:function(){e.element.classList.add("_animated")}},0!=t&&"-=1"):e.element.classList.contains("anim-fade-right")?a.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(-20px,0,0)"},duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-fade-left")?a.to(e.element,{opacity:1,transform:"translate3d(0,0,0)",startAt:{transform:"translate3d(20px,0,0)"},duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-zoom-out")?a.to(e.element,{opacity:1,transform:"scale3d(1,1,1)",startAt:{transform:"scale3d(1.1,1.1,1)",opacity:0},duration:r,ease:"power2.out",delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-childrens-fade-right")?a.to(e.element,{opacity:1,duration:r,delay:n,onStart:function(){let t=Array.from(e.element.children);s&&(t=t.reverse()),gsap.to(t,{transform:"translate3d(0,0,0)",opacity:1,startAt:{transform:"translate3d(-20px,0,0)",opacity:0},duration:r,stagger:o})}},0!=t&&"-=1"):e.element.classList.contains("anim-fade-progress-right")?a.to(e.element,{opacity:1,maskImage:"linear-gradient(90deg, rgba(72,172,240,1) 100%, transparent 105%)",startAt:{maskImage:"linear-gradient(90deg, rgba(72,172,240,1) -5%, transparent 0%)"},duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-childrens-fade-left")?a.to(e.element,{opacity:1,duration:r,delay:n,onStart:function(){let t=Array.from(e.element.children);s&&(t=t.reverse()),gsap.to(t,{transform:"translate3d(0,0,0)",opacity:1,startAt:{transform:"translate3d(20px,0,0)",opacity:0},duration:r,stagger:o})}},0!=t&&"-=1"):e.element.classList.contains("anim-zoom-in")?a.to(e.element,{opacity:1,transform:"scale3d(1,1,1)",startAt:{transform:"scale3d(0.7,0.7,1)"},duration:r,delay:n},0!=t&&"-=1"):e.element.classList.contains("anim-clip-down")&&a.to(e.element,{opacity:1,clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",startAt:{clipPath:"polygon(0 0, 100% 0, 100% 0%, 0 0%)",opacity:1},ease:"power2.out",duration:r,delay:n},0!=t&&"-=1")}),t.style.opacity=1,s.push([t,a])}),document.addEventListener("scroll",(function(e){l(),i(Math.abs(t.getBoundingClientRect().y))}));const d=document.querySelectorAll(".anim-parallax-element");let c={};function u(){var t,a,s;e=window.innerWidth,html.style.setProperty("--height-screen",window.innerHeight+"px"),html.style.setProperty("--height-header",header.offsetHeight+"px"),a=function(){bodyScrollBar=Scrollbar.init(o,{damping:.05,delegateTo:document}),bodyScrollBar.addListener(({offset:e})=>{r=e.x,n=e.y,body.classList.contains("_active")&&bodyScrollBar.setPosition(0,0,0),i(n),l()}),bodyScrollBar.setPosition(0,0),bodyScrollBar.limit.y=0,bodyScrollBar.track.xAxis.element.remove(),bodyScrollBar.update()},s=function(){try{bodyScrollBar.destroy()}catch{}},e<=(t=1e3)&&(1==c[String(t)]||null==c[String(t)])&&0!=c[String(t)]&&(c[String(t)]=!1,s()),e>=t&&(0==c[String(t)]||null==c[String(t)])&&1!=c[String(t)]&&(c[String(t)]=!0,a())}u(),window.onresize=u,setTimeout(()=>{body.classList.add("_overflow-visible"),l(),gsap.to(header,{transform:"translate3d(0,0,0)",delay:.5});let e;document.querySelectorAll(".animate-decor-lines").forEach(e=>{const t=e.querySelectorAll(".words-decor-line"),r=document.createElement("span");r.innerHTML="&nbsp;",r.style.display="inline-block",r.style.position="absolute",r.style.pointerEvents="none",e.append(r);const n=r.offsetWidth;r.remove(),e.style.setProperty("--space-width",n+"px"),e.addEventListener("mouseenter",(function(){gsap.to(t,{transform:"scale(2,1)",duration:.5,stagger:.2})})),e.addEventListener("mouseleave",(function(){gsap.to(t,{transform:"scale(0,1)",duration:.5,stagger:.2})}))}),document.querySelector(".projects__slider")&&(e=new Swiper(".projects__slider",{spaceBetween:24,slidesPerView:"auto"}));document.querySelectorAll(".passion__timer");let t,r,n;document.querySelector(".projects__slider")&&(t=new Swiper(".passion__content-slider",{spaceBetween:0,slidesPerView:1,allowTouchMove:!1,effect:"fade",loop:!0,speed:500,autoplay:{delay:4e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{init:function(){html.style.setProperty("--slider-speed","4s");const e=document.querySelector(".passion__content-slider").querySelector(".swiper-slide-active"),t=e.querySelector(".animate-title"),r=e.querySelector(".passion__timer");if(t){const e=t.querySelectorAll(".words-line-element");gsap.to(e,{transform:"translate3d(0,0,0)",opacity:1,duration:.5,stagger:.07})}r.classList.add("_slide-change"),r.style.setProperty("--value","100%")},slideChangeTransitionEnd:function(){const e=t.wrapperEl.querySelector(".swiper-slide-active"),r=(e.querySelector(".animate-title"),document.querySelector(".passion__timer._slide-change"));if(r){r.classList.remove("_slide-change"),r.style.setProperty("--value","0%");const t=e.querySelector(".passion__timer");t.classList.add("_slide-change"),t.style.setProperty("--value","100%")}else{const t=e.querySelector(".passion__timer");t.classList.add("_slide-change"),t.style.setProperty("--value","100%")}},slideChangeTransitionStart:function(){const e=t.wrapperEl.querySelector(".swiper-slide-active").querySelector(".animate-title");if(setTimeout(()=>{const e=t.wrapperEl.querySelector(".swiper-slide-prev").querySelector(".animate-title");if(e){const t=e.querySelectorAll(".words-line-element");gsap.to(t,{transform:"translate3d(0,50%,0)",opacity:1,duration:0,stagger:0})}},500),e){const t=e.querySelectorAll(".words-line-element");gsap.to(t,{transform:"translate3d(0,0,0)",opacity:1,duration:.5,stagger:.07})}}}})),document.querySelector(".projects__slider")&&(r=new Swiper(".clients__slider",{spaceBetween:24,slidesPerView:"auto"})),document.querySelector(".projects__slider")&&(n=new Swiper(".lates-updates__slider",{spaceBetween:24,slidesPerView:"auto"}))},500),setTimeout(()=>{preloader.classList.add("_loaded")},400)},1500)}})),window.onload=function(){videoLazyLoading.forEach(e=>{e.src=e.dataset.src,"true"==e.dataset.autoplay&&(e.autoplay=!0),e.load(),e.onloadeddata=function(){e.classList.add("_loaded")}})};